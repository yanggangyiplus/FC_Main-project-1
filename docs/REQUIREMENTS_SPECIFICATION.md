# 요구사항 정의서 (Requirements Specification)

## 문서 정보

| 항목 | 내용 |
|------|------|
| 프로젝트명 | Awesome Raman - 네이버 뉴스 기반 자동 블로그 생성 시스템 |
| 버전 | 1.0 |
| 작성일 | 2024-01-15 |
| 상태 | 최종 |

---

## 1. 프로젝트 개요

### 1.1 프로젝트 배경
- 콘텐츠 마케팅 시장에서 지속적인 블로그 콘텐츠 생산에 대한 수요 증가
- 뉴스 기반의 시의성 있는 콘텐츠 자동 생성 필요성
- AI/LLM 기술의 발전으로 고품질 콘텐츠 자동 생성 가능

### 1.2 프로젝트 목적
네이버 뉴스의 헤드라인 기사를 수집하여 RAG(Retrieval-Augmented Generation) 기반으로 블로그 글을 자동 생성하고, 품질 평가 후 네이버 블로그에 자동 발행하는 엔드투엔드 자동화 시스템 구축

### 1.3 프로젝트 범위
- 뉴스 스크래핑부터 블로그 발행까지의 전 과정 자동화
- 품질 평가 및 재생성 메커니즘 구현
- AI 이미지 생성 및 문체 개선 기능 포함
- 실시간 알림 및 대시보드 제공

---

## 2. 이해관계자

| 역할 | 설명 | 주요 관심사 |
|------|------|------------|
| 시스템 운영자 | 전체 시스템을 운영하고 모니터링 | 안정성, 자동화율, 비용 |
| 콘텐츠 관리자 | 생성된 콘텐츠 품질 검토 및 관리 | 콘텐츠 품질, 발행 현황 |
| 개발팀 | 시스템 개발 및 유지보수 | 확장성, 유지보수성 |
| 블로그 독자 | 최종 콘텐츠 소비자 | 콘텐츠 정확성, 가독성 |

---

## 3. 기능 요구사항

### 3.1 뉴스 스크래핑 모듈 (FR-01)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-01-01 | 네이버 뉴스 헤드라인 페이지에서 기사 수집 | 필수 | 구현완료 |
| FR-01-02 | 카테고리별(정치, 경제, IT/과학) 기사 분류 수집 | 필수 | 구현완료 |
| FR-01-03 | 기사별 제목, URL, 본문, 발행시간 수집 | 필수 | 구현완료 |
| FR-01-04 | 댓글 수, 반응 수, 연관기사 수 수집 | 선택 | 구현완료 |
| FR-01-05 | 우선순위 점수 계산 (댓글 40% + 반응 30% + 연관기사 30%) | 선택 | 구현완료 |
| FR-01-06 | 수집 결과 JSON 형식으로 저장 | 필수 | 구현완료 |
| FR-01-07 | 카테고리별 상위 N개 기사 필터링 | 필수 | 구현완료 |

### 3.2 RAG 구축 모듈 (FR-02)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-02-01 | 수집된 기사를 벡터로 변환 (임베딩) | 필수 | 구현완료 |
| FR-02-02 | ChromaDB에 벡터 저장 | 필수 | 구현완료 |
| FR-02-03 | 주제 기반 유사 기사 검색 | 필수 | 구현완료 |
| FR-02-04 | 블로그 생성용 컨텍스트 조합 | 필수 | 구현완료 |
| FR-02-05 | 한국어 지원 임베딩 모델 사용 | 필수 | 구현완료 |
| FR-02-06 | 컬렉션 통계 조회 | 선택 | 구현완료 |
| FR-02-07 | DB 초기화 기능 | 선택 | 구현완료 |

### 3.3 블로그 생성 모듈 (FR-03)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-03-01 | LLM을 활용한 HTML 블로그 자동 생성 | 필수 | 구현완료 |
| FR-03-02 | RAG 컨텍스트 기반 사실 기반 콘텐츠 생성 | 필수 | 구현완료 |
| FR-03-03 | 이미지 플레이스홀더 자동 삽입 | 필수 | 구현완료 |
| FR-03-04 | 품질 평가 피드백 반영 재생성 | 필수 | 구현완료 |
| FR-03-05 | 다중 LLM 지원 (OpenAI, Anthropic, LM Studio) | 선택 | 구현완료 |
| FR-03-06 | 중복 주제 체크 (최근 5일) | 선택 | 구현완료 |
| FR-03-07 | 버전별 블로그 저장 | 선택 | 구현완료 |

### 3.4 품질 평가 모듈 (FR-04)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-04-01 | 5가지 평가 기준으로 블로그 품질 평가 | 필수 | 구현완료 |
| FR-04-02 | 사실 정확성 평가 (20점) | 필수 | 구현완료 |
| FR-04-03 | 구조 평가 (20점) | 필수 | 구현완료 |
| FR-04-04 | 가독성 평가 (20점) | 필수 | 구현완료 |
| FR-04-05 | 이미지 배치 평가 (20점) | 필수 | 구현완료 |
| FR-04-06 | 완성도 평가 (20점) | 필수 | 구현완료 |
| FR-04-07 | 개선 피드백 제공 | 필수 | 구현완료 |
| FR-04-08 | 통과/불통과 판정 (기준: 60점) | 필수 | 구현완료 |

### 3.5 이미지 생성 모듈 (FR-05)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-05-01 | 이미지 플레이스홀더 추출 | 필수 | 구현완료 |
| FR-05-02 | AI 이미지 생성 (DALL-E 3) | 필수 | 구현완료 |
| FR-05-03 | 무료 이미지 생성 옵션 (Hugging Face) | 선택 | 구현완료 |
| FR-05-04 | Z-Image-Turbo 지원 | 선택 | 구현완료 |
| FR-05-05 | 이미지 클라우드 저장 (Google Drive/Cloudinary) | 선택 | 구현완료 |
| FR-05-06 | 배치 이미지 생성 | 선택 | 구현완료 |

### 3.6 문체 개선 모듈 (FR-06)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-06-01 | AI 생성 문체를 자연스러운 문체로 변환 | 필수 | 구현완료 |
| FR-06-02 | 사실/데이터 변경 없이 문체만 개선 | 필수 | 구현완료 |
| FR-06-03 | HTML 태그 구조 유지 | 필수 | 구현완료 |
| FR-06-04 | 이미지 태그 보존 | 필수 | 구현완료 |

### 3.7 블로그 발행 모듈 (FR-07)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-07-01 | 네이버 블로그 자동 로그인 | 필수 | 구현완료 |
| FR-07-02 | HTML 블로그 자동 발행 | 필수 | 구현완료 |
| FR-07-03 | 이미지 URL 플레이스홀더 치환 | 필수 | 구현완료 |
| FR-07-04 | 발행 실패 시 자동 재시도 (최대 3회) | 필수 | 구현완료 |
| FR-07-05 | 발행 성공 여부 확인 | 필수 | 구현완료 |

### 3.8 알림 모듈 (FR-08)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-08-01 | Slack 성공 알림 전송 | 필수 | 구현완료 |
| FR-08-02 | Slack 실패 알림 전송 | 필수 | 구현완료 |
| FR-08-03 | 워크플로우 시작/완료 알림 | 선택 | 구현완료 |
| FR-08-04 | 통계 정보 포함 알림 | 선택 | 구현완료 |
| FR-08-05 | 커스텀 메시지 전송 | 선택 | 구현완료 |

### 3.9 워크플로우 통합 (FR-09)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-09-01 | LangGraph 기반 워크플로우 오케스트레이션 | 필수 | 구현완료 |
| FR-09-02 | 상태 기반 파이프라인 관리 | 필수 | 구현완료 |
| FR-09-03 | 조건부 분기 (품질 평가 결과 기반) | 필수 | 구현완료 |
| FR-09-04 | 병렬 처리 (이미지 생성 + 문체 개선) | 선택 | 구현완료 |
| FR-09-05 | 최대 재생성 횟수 제한 (3회) | 필수 | 구현완료 |

### 3.10 대시보드 (FR-10)

| ID | 요구사항 | 우선순위 | 상태 |
|----|----------|----------|------|
| FR-10-01 | Streamlit 기반 웹 대시보드 | 선택 | 구현완료 |
| FR-10-02 | 모듈별 개별 대시보드 | 선택 | 구현완료 |
| FR-10-03 | 통합 메인 대시보드 | 선택 | 구현완료 |
| FR-10-04 | 워크플로우 실행 대시보드 | 선택 | 구현완료 |
| FR-10-05 | 실시간 진행 상황 모니터링 | 선택 | 구현완료 |

---

## 4. 비기능 요구사항

### 4.1 성능 요구사항 (NFR-01)

| ID | 요구사항 | 목표치 | 상태 |
|----|----------|--------|------|
| NFR-01-01 | 단일 블로그 전체 처리 시간 | 5분 이내 | 충족 |
| NFR-01-02 | 뉴스 스크래핑 시간 | 30초 이내 | 충족 |
| NFR-01-03 | 블로그 생성 시간 | 15초 이내 | 충족 |
| NFR-01-04 | 이미지 생성 시간 (3개) | 30초 이내 | 충족 |
| NFR-01-05 | 병렬 처리 성능 향상 | 10초 단축 | 충족 |

### 4.2 안정성 요구사항 (NFR-02)

| ID | 요구사항 | 목표치 | 상태 |
|----|----------|--------|------|
| NFR-02-01 | 발행 성공률 | 95% 이상 | 충족 |
| NFR-02-02 | 자동 재시도 메커니즘 | 최대 3회 | 구현완료 |
| NFR-02-03 | 오류 로깅 및 추적 | 전체 오류 기록 | 구현완료 |
| NFR-02-04 | 품질 평가 통과율 | 80% 이상 | 충족 |

### 4.3 확장성 요구사항 (NFR-03)

| ID | 요구사항 | 상태 |
|----|----------|------|
| NFR-03-01 | 새 뉴스 카테고리 추가 용이성 | 구현완료 |
| NFR-03-02 | 새 LLM 모델 추가 용이성 | 구현완료 |
| NFR-03-03 | 새 이미지 생성 모델 추가 용이성 | 구현완료 |
| NFR-03-04 | 새 블로그 플랫폼 추가 용이성 | 설계됨 |

### 4.4 유지보수성 요구사항 (NFR-04)

| ID | 요구사항 | 상태 |
|----|----------|------|
| NFR-04-01 | 모듈식 아키텍처 (8개 독립 모듈) | 구현완료 |
| NFR-04-02 | 각 모듈 독립 실행 가능 | 구현완료 |
| NFR-04-03 | 설정 집중화 (config/settings.py) | 구현완료 |
| NFR-04-04 | 모듈별 README 문서화 | 구현완료 |
| NFR-04-05 | Loguru 기반 상세 로깅 | 구현완료 |

### 4.5 보안 요구사항 (NFR-05)

| ID | 요구사항 | 상태 |
|----|----------|------|
| NFR-05-01 | API 키 환경변수 관리 | 구현완료 |
| NFR-05-02 | 민감 정보 .env 파일 분리 | 구현완료 |
| NFR-05-03 | .gitignore로 민감 파일 제외 | 구현완료 |
| NFR-05-04 | 네이버 계정 정보 암호화 저장 | 권장 |

### 4.6 사용성 요구사항 (NFR-06)

| ID | 요구사항 | 상태 |
|----|----------|------|
| NFR-06-01 | CLI 인터페이스 제공 | 구현완료 |
| NFR-06-02 | Streamlit 웹 대시보드 제공 | 구현완료 |
| NFR-06-03 | 상세 사용 가이드 문서 | 구현완료 |
| NFR-06-04 | 빠른 시작 가이드 | 구현완료 |

---

## 5. 데이터 요구사항

### 5.1 입력 데이터

| 데이터 | 형식 | 출처 | 설명 |
|--------|------|------|------|
| 뉴스 기사 | HTML | 네이버 뉴스 | 헤드라인 페이지 스크래핑 |
| 사용자 설정 | .env | 사용자 | API 키, 계정 정보 |
| 블로그 주제 | 문자열 | 사용자/자동 | 블로그 생성 주제 |

### 5.2 출력 데이터

| 데이터 | 형식 | 저장 위치 | 설명 |
|--------|------|-----------|------|
| 스크래핑된 기사 | JSON | data/scraped_news/ | 수집된 뉴스 기사 |
| 벡터 DB | ChromaDB | data/chroma_db/ | 임베딩된 기사 벡터 |
| 생성된 블로그 | HTML | data/generated_blogs/ | 생성된 블로그 HTML |
| 생성된 이미지 | PNG/JPG | data/images/ | AI 생성 이미지 |
| 메타데이터 | JSON | data/metadata/ | 주제 기록, 이미지 매핑 |
| 실행 로그 | TXT | logs/ | 시스템 로그 |

### 5.3 데이터 보관 정책

| 데이터 유형 | 보관 기간 | 정책 |
|-------------|----------|------|
| 스크래핑된 기사 | 30일 | 자동 삭제 권장 |
| 벡터 DB | 영구 | 수동 초기화 |
| 생성된 블로그 | 영구 | 수동 관리 |
| 이미지 파일 | 발행 후 삭제 가능 | 클라우드 저장 시 로컬 삭제 |
| 주제 기록 | 5일 | 중복 체크용 |
| 로그 파일 | 7일 | 자동 로테이션 권장 |

---

## 6. 인터페이스 요구사항

### 6.1 외부 API 인터페이스

| API | 용도 | 필수 여부 |
|-----|------|-----------|
| OpenAI API | 블로그 생성, 품질 평가, 문체 개선 | 필수 (택1) |
| Anthropic API | 블로그 생성, 품질 평가, 문체 개선 | 선택 |
| LM Studio API | 로컬 LLM 사용 | 선택 |
| DALL-E 3 API | 이미지 생성 | 선택 |
| Hugging Face API | 무료 이미지 생성 | 선택 |
| Google Drive API | 이미지 클라우드 저장 | 선택 |
| Cloudinary API | 이미지 클라우드 저장 | 선택 |
| Slack API | 알림 전송 | 선택 |

### 6.2 사용자 인터페이스

| 인터페이스 | 유형 | 설명 |
|------------|------|------|
| main.py | CLI | 메인 실행 인터페이스 |
| main_dashboard.py | 웹 | 통합 대시보드 |
| 모듈별 대시보드 | 웹 | 8개 모듈 개별 대시보드 |
| workflow_dashboard.py | 웹 | 워크플로우 실행 대시보드 |

### 6.3 시스템 인터페이스

| 시스템 | 용도 | 기술 |
|--------|------|------|
| 네이버 뉴스 | 기사 수집 | Selenium 스크래핑 |
| 네이버 블로그 | 블로그 발행 | Selenium 자동화 |
| 파일 시스템 | 데이터 저장 | 로컬 파일 I/O |
| ChromaDB | 벡터 저장 | 로컬 DB |

---

## 7. 제약사항

### 7.1 기술적 제약사항

| ID | 제약사항 | 영향 |
|----|----------|------|
| TC-01 | Python 3.9 이상 필요 | 런타임 환경 |
| TC-02 | Chrome 브라우저 필요 (Selenium) | 스크래핑/발행 |
| TC-03 | GPU 권장 (이미지 생성) | 성능 |
| TC-04 | 최소 8GB RAM 권장 | 성능 |
| TC-05 | 인터넷 연결 필수 | API 호출 |

### 7.2 비즈니스 제약사항

| ID | 제약사항 | 영향 |
|----|----------|------|
| BC-01 | 네이버 뉴스 이용약관 준수 | 스크래핑 범위 |
| BC-02 | OpenAI 이용약관 준수 | 콘텐츠 생성 |
| BC-03 | 저작권 고려 필요 | 콘텐츠 사용 |
| BC-04 | API 사용량 비용 발생 | 운영 비용 |

### 7.3 법적 제약사항

| ID | 제약사항 | 대응 |
|----|----------|------|
| LC-01 | 원본 기사 저작권 | RAG 기반 재창작 |
| LC-02 | 개인정보 보호 | 민감정보 수집 안함 |
| LC-03 | AI 생성 콘텐츠 표시 | 필요시 명시 |

---

## 8. 비용 분석

### 8.1 API 비용 (단일 블로그 기준)

| 항목 | 비용 (USD) |
|------|-----------|
| 블로그 생성 (GPT-4o-mini) | ~$0.05 |
| 품질 평가 (GPT-4o-mini) | ~$0.03 |
| 이미지 생성 (DALL-E 3, 3개) | $0.12 |
| 문체 개선 (GPT-4o-mini) | ~$0.02 |
| **총 비용** | **~$0.22** |

### 8.2 월간 운영 비용 예상

| 시나리오 | 일일 발행 | 월간 비용 (USD) |
|----------|----------|-----------------|
| 보수적 | 1개 | ~$6.60 |
| 표준 | 3개 | ~$19.80 |
| 적극적 | 5개 | ~$33.00 |

### 8.3 무료 대안

| 항목 | 무료 대안 | 비용 절감 |
|------|----------|----------|
| 이미지 생성 | Hugging Face | $0.12/블로그 |
| LLM | LM Studio (로컬) | $0.10/블로그 |

---

## 9. 가정 및 의존성

### 9.1 가정사항

| ID | 가정 |
|----|------|
| AS-01 | 네이버 뉴스 페이지 구조가 크게 변경되지 않음 |
| AS-02 | 네이버 블로그 에디터 구조가 크게 변경되지 않음 |
| AS-03 | 외부 API 서비스가 안정적으로 제공됨 |
| AS-04 | 사용자가 유효한 API 키를 보유함 |
| AS-05 | 사용자가 유효한 네이버 계정을 보유함 |

### 9.2 외부 의존성

| 의존성 | 유형 | 위험도 |
|--------|------|--------|
| OpenAI API | 서비스 | 중 |
| 네이버 뉴스 | 웹사이트 | 중 |
| 네이버 블로그 | 웹사이트 | 중 |
| Chrome/ChromeDriver | 소프트웨어 | 낮 |
| Python 패키지 | 라이브러리 | 낮 |

---

## 10. 승인 기준

### 10.1 기능 완료 기준

- [ ] 모든 필수 기능 요구사항 구현 완료
- [ ] 모든 모듈 독립 실행 테스트 통과
- [ ] 전체 워크플로우 통합 테스트 통과
- [ ] 대시보드 정상 동작 확인

### 10.2 품질 기준

- [ ] 블로그 품질 평가 평균 점수 70점 이상
- [ ] 발행 성공률 95% 이상
- [ ] 전체 처리 시간 5분 이내

### 10.3 문서화 기준

- [ ] 프로젝트 README 완성
- [ ] 모듈별 README 완성
- [ ] 환경 설정 가이드 완성
- [ ] 빠른 시작 가이드 완성

---

## 부록

### A. 용어 정의

| 용어 | 정의 |
|------|------|
| RAG | Retrieval-Augmented Generation, 검색 증강 생성 |
| LLM | Large Language Model, 대규모 언어 모델 |
| 임베딩 | 텍스트를 벡터로 변환하는 과정 |
| 플레이스홀더 | 나중에 실제 값으로 대체될 임시 표시 |
| 워크플로우 | 작업의 순차적/조건적 실행 흐름 |
| 인간화 | AI 생성 문체를 자연스럽게 개선하는 과정 |

### B. 참조 문서

- LangChain 공식 문서
- LangGraph 공식 문서
- OpenAI API 문서
- ChromaDB 공식 문서
- Streamlit 공식 문서
- Selenium 공식 문서

### C. 변경 이력

| 버전 | 날짜 | 작성자 | 변경 내용 |
|------|------|--------|----------|
| 1.0 | 2024-01-15 | System | 최초 작성 |
